(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{QfWi:function(e,n,t){"use strict";t.r(n);t("JBxO"),t("FdtR");var o={page:1,query:"",fetchImages:function(){var e=this,n="?image_type=photo&orientation=horizontal&q="+this.query+"&page="+this.page+"&per_page=12&key=17911515-029745efd9a604c772829a1f1";return fetch("https://pixabay.com/api/"+n).then((function(n){if(n.ok)return n.json();throw new Error("Error "+n.statusText+' while fetching "'+e.query+'"')})).then((function(n){return e.incrementPage(),n.hits})).catch((function(e){console.log("ERROR:",e)}))},get searchQuery(){return this.query},set searchQuery(e){this.query=e},incrementPage:function(){this.page+=1},resetPage:function(){this.page=1}},l=document.querySelector("#spinner"),a=function(){l.classList.remove("is-hidden")},i=function(){l.classList.add("is-hidden")},c=t("x1hG"),r=t.n(c),s=t("QJ3N"),u=(t("bzha"),t("zrP5"),t("dcBu")),m=(t("PzF0"),{form:document.querySelector("#search-form"),galleryList:document.querySelector(".gallery"),loadMoreBtn:document.querySelector(".load-more")});function d(){a(),o.fetchImages().then((function(e){if(0===e.length)return s.error({text:"Ooops, try again"}),void i();var n,t,o,l,a;i(),n=e,t=r()(n),m.galleryList.insertAdjacentHTML("beforeend",t),o=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight),l=document.documentElement.clientHeight,a=o-1.7*l,console.log("viewPortHeight",l),console.log("scrollHeight",o),console.log("delta",a),window.scrollTo({top:a,behavior:"smooth"})})).catch((function(e){console.warn(e)}))}m.form.addEventListener("submit",(function(e){e.preventDefault();var n=e.currentTarget.elements.query;if(o.query=n.value,!n.value)return void s.error({text:"Write something"});o.resetPage(),d(),m.loadMoreBtn.classList.remove("is-hidden")})),m.loadMoreBtn.addEventListener("click",(function(){d()})),m.galleryList.addEventListener("click",(function(e){var n=e.target.dataset.source;u.create('<img src="'+n+'" width="800" height="600">',{closable:!0,onShow:function(){a()},onClose:function(){i()}}).show()}));t("u0UJ")},u0UJ:function(e,n,t){},x1hG:function(e,n,t){var o=t("mp5j");e.exports=(o.default||o).template({1:function(e,n,t,o,l){var a,i=null!=n?n:e.nullContext||{},c=e.hooks.helperMissing,r="function",s=e.escapeExpression,u=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return'<li class="gallery__item">\n  <div class="photo-card">\n    <img src="'+s(typeof(a=null!=(a=u(t,"webformatURL")||(null!=n?u(n,"webformatURL"):n))?a:c)===r?a.call(i,{name:"webformatURL",hash:{},data:l,loc:{start:{line:4,column:14},end:{line:4,column:30}}}):a)+'" alt="'+s(typeof(a=null!=(a=u(t,"user")||(null!=n?u(n,"user"):n))?a:c)===r?a.call(i,{name:"user",hash:{},data:l,loc:{start:{line:4,column:37},end:{line:4,column:45}}}):a)+'" data-source="'+s(typeof(a=null!=(a=u(t,"largeImageURL")||(null!=n?u(n,"largeImageURL"):n))?a:c)===r?a.call(i,{name:"largeImageURL",hash:{},data:l,loc:{start:{line:4,column:60},end:{line:4,column:77}}}):a)+'" />\n\n    <div class="stats">\n      <p class="stats-item">\n        <i class="material-icons">thumb_up</i>\n        '+s(typeof(a=null!=(a=u(t,"likes")||(null!=n?u(n,"likes"):n))?a:c)===r?a.call(i,{name:"likes",hash:{},data:l,loc:{start:{line:9,column:8},end:{line:9,column:17}}}):a)+'\n      </p>\n      <p class="stats-item">\n        <i class="material-icons">visibility</i>\n        '+s(typeof(a=null!=(a=u(t,"views")||(null!=n?u(n,"views"):n))?a:c)===r?a.call(i,{name:"views",hash:{},data:l,loc:{start:{line:13,column:8},end:{line:13,column:17}}}):a)+'\n      </p>\n      <p class="stats-item">\n        <i class="material-icons">comment</i>\n        '+s(typeof(a=null!=(a=u(t,"comments")||(null!=n?u(n,"comments"):n))?a:c)===r?a.call(i,{name:"comments",hash:{},data:l,loc:{start:{line:17,column:8},end:{line:17,column:20}}}):a)+'\n      </p>\n      <p class="stats-item">\n        <i class="material-icons">cloud_download</i>\n        '+s(typeof(a=null!=(a=u(t,"downloads")||(null!=n?u(n,"downloads"):n))?a:c)===r?a.call(i,{name:"downloads",hash:{},data:l,loc:{start:{line:21,column:8},end:{line:21,column:21}}}):a)+"\n      </p>\n    </div>\n  </div>\n</li>\n"},compiler:[8,">= 4.3.0"],main:function(e,n,t,o,l){var a;return null!=(a=(e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]})(t,"each").call(null!=n?n:e.nullContext||{},n,{name:"each",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l,loc:{start:{line:1,column:0},end:{line:26,column:9}}}))?a:""},useData:!0})}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.2c2871ab6d0324572fe6.js.map